---
import AuthLayout from "../../layouts/AuthLayout.astro";
import { LoginForm } from "../../components/auth/LoginForm";

// Server-side check: redirect authenticated users to main panel
const user = Astro.locals.user;
if (user) {
  return Astro.redirect('/');
}
---

<AuthLayout title="Logowanie – AI Flashcards">
  <div class="space-y-8">
    <!-- Header -->
    <div class="text-center">
      <h1 class="text-3xl font-bold text-foreground mb-3">Witaj ponownie</h1>
      <p class="text-muted-foreground">
        Zaloguj się, aby zobaczyć swoje zasoby
      </p>
    </div>

    <!-- Login Form Card -->
    <div class="bg-card border rounded-lg p-6 shadow-sm">
      <LoginForm client:load />
    </div>
  </div>
</AuthLayout>

